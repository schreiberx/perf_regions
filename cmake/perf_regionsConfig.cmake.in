# perf_regionsConfig.cmake.in
@PACKAGE_INIT@

# Include the targets file
include("${CMAKE_CURRENT_LIST_DIR}/perf_regionsTargets.cmake")

# Find dependencies
@PERF_REGIONS_USE_MPI_CONDITION@
if(@PERF_REGIONS_USE_MPI@)
    find_dependency(MPI REQUIRED COMPONENTS C Fortran)
endif()

@PERF_REGIONS_USE_PAPI_CONDITION@
if(@PERF_REGIONS_USE_PAPI@)
    list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}")
    find_dependency(PAPI REQUIRED)
endif()

# Set variables for compatibility
set_and_check(PERF_REGIONS_INCLUDE_DIR "@PACKAGE_CMAKE_INSTALL_INCLUDEDIR@/perf_regions")
set_and_check(PERF_REGIONS_LIB_DIR "@PACKAGE_CMAKE_INSTALL_LIBDIR@")

set(PERF_REGIONS_INCLUDE_DIRS "${PERF_REGIONS_INCLUDE_DIR}")
set(PERF_REGIONS_LIBRARIES perf_regions::perf_regions)
set(PERF_REGIONS_VERSION "@PROJECT_VERSION@")

# Feature flags
set(PERF_REGIONS_HAS_MPI @PERF_REGIONS_USE_MPI@)
set(PERF_REGIONS_HAS_PAPI @PERF_REGIONS_USE_PAPI@)

check_required_components(perf_regions)